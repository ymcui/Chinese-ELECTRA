
<p>
<a href="https://console.tiyaro.ai/explore?q=hfl/&pub=hfl"> <img src="https://tiyaro-public-docs.s3.us-west-2.amazonaws.com/assets/try_on_tiyaro_badge.svg"></a>
</p>

[**ä¸­æ–‡è¯´æ˜**](./README.md) | [**English**](./README_EN.md)

<p align="center">
    <br>
    <img src="./pics/banner.png" width="500"/>
    <br>
</p>
<p align="center">
    <a href="https://github.com/ymcui/Chinese-ELECTRA/blob/master/LICENSE">
        <img alt="GitHub" src="https://img.shields.io/github/license/ymcui/Chinese-ELECTRA.svg?color=blue&style=flat-square">
    </a>
</p>
è°·æ­Œä¸æ–¯å¦ç¦å¤§å­¦å…±åŒç ”å‘çš„æœ€æ–°é¢„è®­ç»ƒæ¨¡å‹ELECTRAå› å…¶å°å·§çš„æ¨¡å‹ä½“ç§¯ä»¥åŠè‰¯å¥½çš„æ¨¡å‹æ€§èƒ½å—åˆ°äº†å¹¿æ³›å…³æ³¨ã€‚
ä¸ºäº†è¿›ä¸€æ­¥ä¿ƒè¿›ä¸­æ–‡é¢„è®­ç»ƒæ¨¡å‹æŠ€æœ¯çš„ç ”ç©¶ä¸å‘å±•ï¼Œå“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤åŸºäºå®˜æ–¹ELECTRAè®­ç»ƒä»£ç ä»¥åŠå¤§è§„æ¨¡çš„ä¸­æ–‡æ•°æ®è®­ç»ƒå‡ºä¸­æ–‡ELECTRAé¢„è®­ç»ƒæ¨¡å‹ä¾›å¤§å®¶ä¸‹è½½ä½¿ç”¨ã€‚
å…¶ä¸­ELECTRA-smallæ¨¡å‹å¯ä¸BERT-baseç”šè‡³å…¶ä»–åŒç­‰è§„æ¨¡çš„æ¨¡å‹ç›¸åª²ç¾ï¼Œè€Œå‚æ•°é‡ä»…ä¸ºBERT-baseçš„1/10ã€‚

æœ¬é¡¹ç›®åŸºäºè°·æ­Œ&æ–¯å¦ç¦å¤§å­¦å®˜æ–¹çš„ELECTRAï¼š[https://github.com/google-research/electra](https://github.com/google-research/electra)

----

[ä¸­æ–‡MacBERT](https://github.com/ymcui/MacBERT) | [ä¸­æ–‡ELECTRA](https://github.com/ymcui/Chinese-ELECTRA) | [ä¸­æ–‡XLNet](https://github.com/ymcui/Chinese-XLNet) | [çŸ¥è¯†è’¸é¦å·¥å…·TextBrewer](https://github.com/airaria/TextBrewer) | [æ¨¡å‹è£å‰ªå·¥å…·TextPruner](https://github.com/airaria/TextPruner)

æŸ¥çœ‹æ›´å¤šå“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤ï¼ˆHFLï¼‰å‘å¸ƒçš„èµ„æºï¼šhttps://github.com/ymcui/HFL-Anthology

## æ–°é—»
**2022/3/30 æˆ‘ä»¬å¼€æºäº†ä¸€ç§æ–°é¢„è®­ç»ƒæ¨¡å‹PERTã€‚æŸ¥çœ‹ï¼šhttps://github.com/ymcui/PERT**

2021/12/17 å“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤æ¨å‡ºæ¨¡å‹è£å‰ªå·¥å…·åŒ…TextPrunerã€‚æŸ¥çœ‹ï¼šhttps://github.com/airaria/TextPruner

2021/10/24 å“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤å‘å¸ƒé¢å‘å°‘æ•°æ°‘æ—è¯­è¨€çš„é¢„è®­ç»ƒæ¨¡å‹CINOã€‚æŸ¥çœ‹ï¼šhttps://github.com/ymcui/Chinese-Minority-PLM

2021/7/21 ç”±å“ˆå·¥å¤§SCIRå¤šä½å­¦è€…æ’°å†™çš„[ã€Šè‡ªç„¶è¯­è¨€å¤„ç†ï¼šåŸºäºé¢„è®­ç»ƒæ¨¡å‹çš„æ–¹æ³•ã€‹](https://item.jd.com/13344628.html)å·²å‡ºç‰ˆï¼Œæ¬¢è¿å¤§å®¶é€‰è´­ã€‚

2020/12/13 åŸºäºå¤§è§„æ¨¡æ³•å¾‹æ–‡ä¹¦æ•°æ®ï¼Œæˆ‘ä»¬è®­ç»ƒäº†é¢å‘å¸æ³•é¢†åŸŸçš„ä¸­æ–‡ELECTRAç³»åˆ—æ¨¡å‹ï¼ŒæŸ¥çœ‹[æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½)ï¼Œ[å¸æ³•ä»»åŠ¡æ•ˆæœ](#å¸æ³•ä»»åŠ¡æ•ˆæœ)ã€‚

<details>
<summary>ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å†å²æ–°é—»</summary>
2020/10/22 ELECTRA-180gå·²å‘å¸ƒï¼Œå¢åŠ äº†CommonCrawlçš„é«˜è´¨é‡æ•°æ®ï¼ŒæŸ¥çœ‹[æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½)ã€‚

2020/9/15 æˆ‘ä»¬çš„è®ºæ–‡["Revisiting Pre-Trained Models for Chinese Natural Language Processing"](https://arxiv.org/abs/2004.13922)è¢«[Findings of EMNLP](https://2020.emnlp.org)å½•ç”¨ä¸ºé•¿æ–‡ã€‚

2020/8/27 å“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤åœ¨é€šç”¨è‡ªç„¶è¯­è¨€ç†è§£è¯„æµ‹GLUEä¸­è£ç™»æ¦œé¦–ï¼ŒæŸ¥çœ‹[GLUEæ¦œå•](https://gluebenchmark.com/leaderboard)ï¼Œ[æ–°é—»](http://dwz.date/ckrD)ã€‚

2020/5/29 Chinese ELECTRA-large/small-exå·²å‘å¸ƒï¼Œè¯·æŸ¥çœ‹[æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½)ï¼Œç›®å‰åªæä¾›Google Driveä¸‹è½½åœ°å€ï¼Œæ•¬è¯·è°…è§£ã€‚

2020/4/7 PyTorchç”¨æˆ·å¯é€šè¿‡[ğŸ¤—Transformers](https://github.com/huggingface/transformers)åŠ è½½æ¨¡å‹ï¼ŒæŸ¥çœ‹[å¿«é€ŸåŠ è½½](#å¿«é€ŸåŠ è½½)ã€‚

2020/3/31 æœ¬ç›®å½•å‘å¸ƒçš„æ¨¡å‹å·²æ¥å…¥[é£æ¡¨PaddleHub](https://github.com/PaddlePaddle/PaddleHub)ï¼ŒæŸ¥çœ‹[å¿«é€ŸåŠ è½½](#å¿«é€ŸåŠ è½½)ã€‚

2020/3/25 Chinese ELECTRA-small/baseå·²å‘å¸ƒï¼Œè¯·æŸ¥çœ‹[æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½)ã€‚
</details>

## å†…å®¹å¯¼å¼•
| ç« èŠ‚ | æè¿° |
|-|-|
| [ç®€ä»‹](#ç®€ä»‹) | ä»‹ç»ELECTRAåŸºæœ¬åŸç† |
| [æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½) | ä¸­æ–‡ELECTRAé¢„è®­ç»ƒæ¨¡å‹ä¸‹è½½ |
| [å¿«é€ŸåŠ è½½](#å¿«é€ŸåŠ è½½) | ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨[ğŸ¤—Transformers](https://github.com/huggingface/transformers)ã€[PaddleHub](https://github.com/PaddlePaddle/PaddleHub)å¿«é€ŸåŠ è½½æ¨¡å‹ |
| [åŸºçº¿ç³»ç»Ÿæ•ˆæœ](#åŸºçº¿ç³»ç»Ÿæ•ˆæœ) | ä¸­æ–‡åŸºçº¿ç³»ç»Ÿæ•ˆæœï¼šé˜…è¯»ç†è§£ã€æ–‡æœ¬åˆ†ç±»ç­‰ |
| [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•) | æ¨¡å‹çš„è¯¦ç»†ä½¿ç”¨æ–¹æ³• |
| [FAQ](#FAQ) | å¸¸è§é—®é¢˜ç­”ç–‘ |
| [å¼•ç”¨](#å¼•ç”¨) | æœ¬ç›®å½•çš„æŠ€æœ¯æŠ¥å‘Š |

## ç®€ä»‹
**ELECTRA**æå‡ºäº†ä¸€å¥—æ–°çš„é¢„è®­ç»ƒæ¡†æ¶ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š**Generator**å’Œ**Discriminator**ã€‚

- **Generator**: ä¸€ä¸ªå°çš„MLMï¼Œåœ¨[MASK]çš„ä½ç½®é¢„æµ‹åŸæ¥çš„è¯ã€‚Generatorå°†ç”¨æ¥æŠŠè¾“å…¥æ–‡æœ¬åšéƒ¨åˆ†è¯çš„æ›¿æ¢ã€‚
- **Discriminator**: åˆ¤æ–­è¾“å…¥å¥å­ä¸­çš„æ¯ä¸ªè¯æ˜¯å¦è¢«æ›¿æ¢ï¼Œå³ä½¿ç”¨Replaced Token Detection (RTD)é¢„è®­ç»ƒä»»åŠ¡ï¼Œå–ä»£äº†BERTåŸå§‹çš„Masked Language Model (MLM)ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨Next Sentence Prediction (NSP)ä»»åŠ¡ã€‚

åœ¨é¢„è®­ç»ƒé˜¶æ®µç»“æŸä¹‹åï¼Œæˆ‘ä»¬åªä½¿ç”¨Discriminatorä½œä¸ºä¸‹æ¸¸ä»»åŠ¡ç²¾è°ƒçš„åŸºæ¨¡å‹ã€‚

æ›´è¯¦ç»†çš„å†…å®¹è¯·æŸ¥é˜…ELECTRAè®ºæ–‡ï¼š[ELECTRA: Pre-training Text Encoders as Discriminators Rather Than Generators](https://openreview.net/pdf?id=r1xMH1BtvB)

![](./pics/model.png)


## æ¨¡å‹ä¸‹è½½
æœ¬ç›®å½•ä¸­åŒ…å«ä»¥ä¸‹æ¨¡å‹ï¼Œç›®å‰ä»…æä¾›TensorFlowç‰ˆæœ¬æƒé‡ã€‚

* **`ELECTRA-large, Chinese`**: 24-layer, 1024-hidden, 16-heads, 324M parameters   
* **`ELECTRA-base, Chinese`**: 12-layer, 768-hidden, 12-heads, 102M parameters   
* **`ELECTRA-small-ex, Chinese`**: 24-layer, 256-hidden, 4-heads, 25M parameters
* **`ELECTRA-small, Chinese`**: 12-layer, 256-hidden, 4-heads, 12M parameters

#### å¤§è¯­æ–™ç‰ˆï¼ˆæ–°ç‰ˆï¼Œ180Gæ•°æ®ï¼‰

| æ¨¡å‹ç®€ç§° | Googleä¸‹è½½ | ç™¾åº¦ç½‘ç›˜ä¸‹è½½ | å‹ç¼©åŒ…å¤§å° |
| :------- | :---------: | :---------: | :---------: |
| **`ELECTRA-180g-large, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1P9yAuW0-HR7WvZ2r2weTnx3slo6f5u9q/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç 2v5rï¼‰](https://pan.baidu.com/s/13UJIG2G0lASjjCvPmh13RQ?pwd=2v5r) | 1G |
| **`ELECTRA-180g-base, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1RlmfBgyEwKVBFagafYvJgyCGuj7cTHfh/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç 3vg1ï¼‰](https://pan.baidu.com/s/15PQdeh7nRxCgXp9YmjqgsQ?pwd=3vg1) | 383M |
| **`ELECTRA-180g-small-ex, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1NYJTKH1dWzrIBi86VSUK-Ml9Dsso_kuf/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç 93n8ï¼‰](https://pan.baidu.com/s/1UV83d2LNp5HHwK7X14HjPQ?pwd=93n8) | 92M |
| **`ELECTRA-180g-small, Chinese`** | [TensorFlow](https://drive.google.com/file/d/177EVNTQpH2BRW-35-0LNLjV86MuDnEmu/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç k9iuï¼‰](https://pan.baidu.com/s/1J5DXcehcNtX0iBXNRKLWBw?pwd=k9iu) | 46M |

#### åŸºç¡€ç‰ˆï¼ˆåŸç‰ˆï¼Œ20Gæ•°æ®ï¼‰

| æ¨¡å‹ç®€ç§° | Googleä¸‹è½½ | ç™¾åº¦ç½‘ç›˜ä¸‹è½½ | å‹ç¼©åŒ…å¤§å° |
| :------- | :---------: | :---------: | :---------: |
| **`ELECTRA-large, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1ny0NMLkEWG6rseDLiF_NujdHxDcIN51m/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç 1e14ï¼‰](https://pan.baidu.com/s/1M5pSqDRbb3Vsv5r3TfviBQ?pwd=1e14) | 1G |
| **`ELECTRA-base, Chinese`** | [TensorFlow](https://drive.google.com/open?id=1FMwrs2weFST-iAuZH3umMa6YZVeIP8wD) | [TensorFlowï¼ˆå¯†ç f32jï¼‰](https://pan.baidu.com/s/1HOzCBNaoIEULj_s-q3dDzA?pwd=f32j) | 383M |
| **`ELECTRA-small-ex, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1LluPORc7xtFmCTFR4IF17q77ip82i7__/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç gfb1ï¼‰](https://pan.baidu.com/s/1dOLw4feMJcsgZL07V-koWA?pwd=gfb1) | 92M |
| **`ELECTRA-small, Chinese`** | [TensorFlow](https://drive.google.com/open?id=1uab-9T1kR9HgD2NB0Kz1JB_TdSKgJIds) | [TensorFlowï¼ˆå¯†ç 1r4rï¼‰](https://pan.baidu.com/s/1UIosBYOHVA3bDuJrFqU0NQ?pwd=1r4r) | 46M |

#### å¸æ³•é¢†åŸŸç‰ˆï¼ˆnewï¼‰

| æ¨¡å‹ç®€ç§° | Googleä¸‹è½½ | ç™¾åº¦ç½‘ç›˜ä¸‹è½½ | å‹ç¼©åŒ…å¤§å° |
| :------- | :---------: | :---------: | :---------: |
| **`legal-ELECTRA-large, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1jPyVi_t4QmTkFy7PD-m-hG-lQ8cIETzD/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç q4gvï¼‰](https://pan.baidu.com/s/180cloQ0A3m3VqpLPeKpPYg?pwd=q4gv) | 1G |
| **`legal-ELECTRA-base, Chinese`** | [TensorFlow](https://drive.google.com/file/d/12ZLaoFgpqGJxSi_9KiQV-jdVN4XRGMiD/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç 8gcvï¼‰](https://pan.baidu.com/s/1OWwSsr-jCWq3vb7Js4B2vg?pwd=8gcv) | 383M |
| **`legal-ELECTRA-small, Chinese`** | [TensorFlow](https://drive.google.com/file/d/1arQ5qNTNoc1OyMH8wBUKdTMy2QponIFY/view?usp=sharing) | [TensorFlowï¼ˆå¯†ç kmrjï¼‰](https://pan.baidu.com/s/1FIblX4EU23KSQWft3DWL0g?pwd=kmrj) | 46M |


### PyTorch/TF2ç‰ˆæœ¬

å¦‚éœ€PyTorchç‰ˆæœ¬ï¼Œè¯·è‡ªè¡Œé€šè¿‡ğŸ¤—Transformersæä¾›çš„è½¬æ¢è„šæœ¬[convert_electra_original_tf_checkpoint_to_pytorch.py](https://github.com/huggingface/transformers/blob/master/src/transformers/convert_electra_original_tf_checkpoint_to_pytorch.py)è¿›è¡Œè½¬æ¢ã€‚å¦‚éœ€é…ç½®æ–‡ä»¶å¯è¿›å…¥åˆ°æœ¬ç›®å½•ä¸‹çš„configæ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾ã€‚

```bash
python transformers/src/transformers/convert_electra_original_tf_checkpoint_to_pytorch.py \
--tf_checkpoint_path ./path-to-large-model/ \
--config_file ./path-to-large-model/discriminator.json \
--pytorch_dump_path ./path-to-output/model.bin \
--discriminator_or_generator discriminator
```

æˆ–è€…é€šè¿‡huggingfaceå®˜ç½‘ç›´æ¥ä¸‹è½½PyTorchç‰ˆæƒé‡ï¼šhttps://huggingface.co/hfl

æ–¹æ³•ï¼šç‚¹å‡»ä»»æ„éœ€è¦ä¸‹è½½çš„model â†’ æ‹‰åˆ°æœ€ä¸‹æ–¹ç‚¹å‡»"List all files in model" â†’ åœ¨å¼¹å‡ºçš„å°æ¡†ä¸­ä¸‹è½½binå’Œjsonæ–‡ä»¶ã€‚

### ä½¿ç”¨é¡»çŸ¥

ä¸­å›½å¤§é™†å¢ƒå†…å»ºè®®ä½¿ç”¨ç™¾åº¦ç½‘ç›˜ä¸‹è½½ç‚¹ï¼Œå¢ƒå¤–ç”¨æˆ·å»ºè®®ä½¿ç”¨è°·æ­Œä¸‹è½½ç‚¹ã€‚ 
ä»¥TensorFlowç‰ˆ`ELECTRA-small, Chinese`ä¸ºä¾‹ï¼Œä¸‹è½½å®Œæ¯•åå¯¹zipæ–‡ä»¶è¿›è¡Œè§£å‹å¾—åˆ°å¦‚ä¸‹æ–‡ä»¶ã€‚

```
chinese_electra_small_L-12_H-256_A-4.zip
    |- electra_small.data-00000-of-00001    # æ¨¡å‹æƒé‡
    |- electra_small.meta                   # æ¨¡å‹metaä¿¡æ¯
    |- electra_small.index                  # æ¨¡å‹indexä¿¡æ¯
    |- vocab.txt                            # è¯è¡¨
    |- discriminator.json                   # é…ç½®æ–‡ä»¶ï¼šdiscriminatorï¼ˆè‹¥æ²¡æœ‰å¯ä»æœ¬repoä¸­çš„configç›®å½•è·å–ï¼‰
    |- generator.json                       # é…ç½®æ–‡ä»¶ï¼šgeneratorï¼ˆè‹¥æ²¡æœ‰å¯ä»æœ¬repoä¸­çš„configç›®å½•è·å–ï¼‰
```

### è®­ç»ƒç»†èŠ‚

æˆ‘ä»¬é‡‡ç”¨äº†å¤§è§„æ¨¡ä¸­æ–‡ç»´åŸºä»¥åŠé€šç”¨æ–‡æœ¬è®­ç»ƒäº†ELECTRAæ¨¡å‹ï¼Œæ€»tokenæ•°è¾¾åˆ°5.4Bï¼Œä¸[RoBERTa-wwm-extç³»åˆ—æ¨¡å‹](https://github.com/ymcui/Chinese-BERT-wwm)ä¸€è‡´ã€‚è¯è¡¨æ–¹é¢æ²¿ç”¨äº†è°·æ­ŒåŸç‰ˆBERTçš„WordPieceè¯è¡¨ï¼ŒåŒ…å«21,128ä¸ªtokenã€‚å…¶ä»–ç»†èŠ‚å’Œè¶…å‚æ•°å¦‚ä¸‹ï¼ˆæœªæåŠçš„å‚æ•°ä¿æŒé»˜è®¤ï¼‰ï¼š
- `ELECTRA-large`: 24å±‚ï¼Œéšå±‚1024ï¼Œ16ä¸ªæ³¨æ„åŠ›å¤´ï¼Œå­¦ä¹ ç‡1e-4ï¼Œbatch96ï¼Œæœ€å¤§é•¿åº¦512ï¼Œè®­ç»ƒ2Mæ­¥
- `ELECTRA-base`: 12å±‚ï¼Œéšå±‚768ï¼Œ12ä¸ªæ³¨æ„åŠ›å¤´ï¼Œå­¦ä¹ ç‡2e-4ï¼Œbatch256ï¼Œæœ€å¤§é•¿åº¦512ï¼Œè®­ç»ƒ1Mæ­¥
- `ELECTRA-small-ex`: 24å±‚ï¼Œéšå±‚256ï¼Œ4ä¸ªæ³¨æ„åŠ›å¤´ï¼Œå­¦ä¹ ç‡5e-4ï¼Œbatch384ï¼Œæœ€å¤§é•¿åº¦512ï¼Œè®­ç»ƒ2Mæ­¥
- `ELECTRA-small`: 12å±‚ï¼Œéšå±‚256ï¼Œ4ä¸ªæ³¨æ„åŠ›å¤´ï¼Œå­¦ä¹ ç‡5e-4ï¼Œbatch1024ï¼Œæœ€å¤§é•¿åº¦512ï¼Œè®­ç»ƒ1Mæ­¥


## å¿«é€ŸåŠ è½½
### ä½¿ç”¨Huggingface-Transformers

[Huggingface-Transformers 2.8.0](https://github.com/huggingface/transformers/releases/tag/v2.8.0)ç‰ˆæœ¬å·²æ­£å¼æ”¯æŒELECTRAæ¨¡å‹ï¼Œå¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤è°ƒç”¨ã€‚
```python
tokenizer = AutoTokenizer.from_pretrained(MODEL_NAME)
model = AutoModel.from_pretrained(MODEL_NAME) 
```

å…¶ä¸­`MODEL_NAME`å¯¹åº”åˆ—è¡¨å¦‚ä¸‹ï¼š

| æ¨¡å‹å | ç»„ä»¶ | MODEL_NAME |
| - | - | - |
| ELECTRA-180g-large, Chinese | discriminator | hfl/chinese-electra-180g-large-discriminator |
| ELECTRA-180g-large, Chinese | generator | hfl/chinese-electra-180g-large-generator |
| ELECTRA-180g-base, Chinese | discriminator | hfl/chinese-electra-180g-base-discriminator |
| ELECTRA-180g-base, Chinese | generator | hfl/chinese-electra-180g-base-generator |
| ELECTRA-180g-small-ex, Chinese | discriminator | hfl/chinese-electra-180g-small-ex-discriminator |
| ELECTRA-180g-small-ex, Chinese | generator | hfl/chinese-electra-180g-small-ex-generator |
| ELECTRA-180g-small, Chinese | discriminator | hfl/chinese-electra-180g-small-discriminator |
| ELECTRA-180g-small, Chinese | generator | hfl/chinese-electra-180g-small-generator |
| ELECTRA-large, Chinese | discriminator | hfl/chinese-electra-large-discriminator |
| ELECTRA-large, Chinese | generator | hfl/chinese-electra-large-generator |
| ELECTRA-base, Chinese | discriminator | hfl/chinese-electra-base-discriminator |
| ELECTRA-base, Chinese | generator | hfl/chinese-electra-base-generator |
| ELECTRA-small-ex, Chinese | discriminator | hfl/chinese-electra-small-ex-discriminator |
| ELECTRA-small-ex, Chinese | generator | hfl/chinese-electra-small-ex-generator |
| ELECTRA-small, Chinese | discriminator | hfl/chinese-electra-small-discriminator |
| ELECTRA-small, Chinese | generator | hfl/chinese-electra-small-generator |

å¸æ³•é¢†åŸŸç‰ˆæœ¬ï¼š

| æ¨¡å‹å | ç»„ä»¶ | MODEL_NAME |
| - | - | - |
| legal-ELECTRA-large, Chinese | discriminator | hfl/chinese-legal-electra-large-discriminator |
| legal-ELECTRA-large, Chinese | generator | hfl/chinese-legal-electra-large-generator |
| legal-ELECTRA-base, Chinese | discriminator | hfl/chinese-legal-electra-base-discriminator |
| legal-ELECTRA-base, Chinese | generator | hfl/chinese-legal-electra-base-generator |Ã¥
| legal-ELECTRA-small, Chinese | discriminator | hfl/chinese-legal-electra-small-discriminator |
| legal-ELECTRA-small, Chinese | generator | hfl/chinese-legal-electra-small-generator |


### ä½¿ç”¨PaddleHub
ä¾æ‰˜[PaddleHub](https://github.com/PaddlePaddle/PaddleHub)ï¼Œæˆ‘ä»¬åªéœ€ä¸€è¡Œä»£ç å³å¯å®Œæˆæ¨¡å‹ä¸‹è½½å®‰è£…ï¼Œåä½™è¡Œä»£ç å³å¯å®Œæˆæ–‡æœ¬åˆ†ç±»ã€åºåˆ—æ ‡æ³¨ã€é˜…è¯»ç†è§£ç­‰ä»»åŠ¡ã€‚

```
import paddlehub as hub
module = hub.Module(name=MODULE_NAME)
```

å…¶ä¸­`MODULE_NAME`å¯¹åº”åˆ—è¡¨å¦‚ä¸‹ï¼š

| æ¨¡å‹å | MODULE_NAME |
| - | - |
| ELECTRA-base, Chinese | [chinese-electra-base](https://paddlepaddle.org.cn/hubdetail?name=chinese-electra-base&en_category=SemanticModel) |
| ELECTRA-small, Chinese  | [chinese-electra-small](https://paddlepaddle.org.cn/hubdetail?name=chinese-electra-small&en_category=SemanticModel) |


## åŸºçº¿ç³»ç»Ÿæ•ˆæœ
æˆ‘ä»¬å°†`ELECTRA-small/base`ä¸[`BERT-base`](https://github.com/google-research/bert)ã€[`BERT-wwm`ã€`BERT-wwm-ext`ã€`RoBERTa-wwm-ext`ã€`RBT3`](https://github.com/ymcui/Chinese-BERT-wwm)è¿›è¡Œäº†æ•ˆæœå¯¹æ¯”ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å…­ä¸ªä»»åŠ¡ï¼š  
- [**CMRC 2018 (Cui et al., 2019)**ï¼šç¯‡ç« ç‰‡æ®µæŠ½å–å‹é˜…è¯»ç†è§£ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰](https://github.com/ymcui/cmrc2018)
- [**DRCD (Shao et al., 2018)**ï¼šç¯‡ç« ç‰‡æ®µæŠ½å–å‹é˜…è¯»ç†è§£ï¼ˆç¹ä½“ä¸­æ–‡ï¼‰](https://github.com/DRCSolutionService/DRCD)
- [**XNLI (Conneau et al., 2018)**ï¼šè‡ªç„¶è¯­è¨€æ¨æ–­](https://github.com/google-research/bert/blob/master/multilingual.md)
- [**ChnSentiCorp**ï¼šæƒ…æ„Ÿåˆ†æ](https://github.com/pengming617/bert_classification)
- [**LCQMC (Liu et al., 2018)**ï¼šå¥å¯¹åŒ¹é…](http://icrc.hitsz.edu.cn/info/1037/1146.htm)
- [**BQ Corpus (Chen et al., 2018)**ï¼šå¥å¯¹åŒ¹é…](http://icrc.hitsz.edu.cn/Article/show/175.html)

å¯¹äºELECTRA-small/baseæ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸè®ºæ–‡é»˜è®¤çš„`3e-4`å’Œ`1e-4`çš„å­¦ä¹ ç‡ã€‚
**éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰é’ˆå¯¹ä»»ä½•ä»»åŠ¡è¿›è¡Œå‚æ•°ç²¾è°ƒï¼Œæ‰€ä»¥é€šè¿‡è°ƒæ•´å­¦ä¹ ç‡ç­‰è¶…å‚æ•°å¯èƒ½è·å¾—è¿›ä¸€æ­¥æ€§èƒ½æå‡ã€‚**
ä¸ºäº†ä¿è¯ç»“æœçš„å¯é æ€§ï¼Œå¯¹äºåŒä¸€æ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸åŒéšæœºç§å­è®­ç»ƒ10éï¼Œæ±‡æŠ¥æ¨¡å‹æ€§èƒ½çš„æœ€å¤§å€¼å’Œå¹³å‡å€¼ï¼ˆæ‹¬å·å†…ä¸ºå¹³å‡å€¼ï¼‰ã€‚


### ç®€ä½“ä¸­æ–‡é˜…è¯»ç†è§£ï¼šCMRC 2018
[**CMRC 2018æ•°æ®é›†**](https://github.com/ymcui/cmrc2018)æ˜¯å“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤å‘å¸ƒçš„ä¸­æ–‡æœºå™¨é˜…è¯»ç†è§£æ•°æ®ã€‚
æ ¹æ®ç»™å®šé—®é¢˜ï¼Œç³»ç»Ÿéœ€è¦ä»ç¯‡ç« ä¸­æŠ½å–å‡ºç‰‡æ®µä½œä¸ºç­”æ¡ˆï¼Œå½¢å¼ä¸[SQuAD](http://arxiv.org/abs/1606.05250)ç›¸åŒã€‚
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šEM / F1

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | æŒ‘æˆ˜é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: | :---------: |
| BERT-base | 65.5 (64.4) / 84.5 (84.0) | 70.0 (68.7) / 87.0 (86.3) | 18.6 (17.0) / 43.3 (41.3) | 102M |
| BERT-wwm | 66.3 (65.0) / 85.6 (84.7) | 70.5 (69.1) / 87.4 (86.7) | 21.0 (19.3) / 47.0 (43.9) | 102M |
| BERT-wwm-ext | 67.1 (65.6) / 85.7 (85.0) | 71.4 (70.0) / 87.7 (87.0) | 24.0 (20.0) / 47.3 (44.6) | 102M |
| RoBERTa-wwm-ext | 67.4 (66.5) / 87.2 (86.5) | 72.6 (71.4) / 89.4 (88.8) | 26.2 (24.6) / 51.0 (49.1) | 102M |
| RBT3 | 57.0 / 79.0 | 62.2 / 81.8 | 14.7 / 36.2 | 38M |
| **ELECTRA-small** | 63.4 (62.9) / 80.8 (80.2) | 67.8 (67.4) / 83.4 (83.0) | 16.3 (15.4) / 37.2 (35.8) | 12M |
| **ELECTRA-180g-small** | 63.8 / 82.7 | 68.5 / 85.2 | 15.1 / 35.8 | 12M |
| **ELECTRA-small-ex** | 66.4 / 82.2 | 71.3 / 85.3 | 18.1 / 38.3 | 25M |
| **ELECTRA-180g-small-ex** | 68.1 / 85.1 | 71.8 / 87.2 | 20.6 / 41.7 | 25M |
| **ELECTRA-base** | 68.4 (68.0) / 84.8 (84.6) | 73.1 (72.7) / 87.1 (86.9) | 22.6 (21.7) / 45.0 (43.8) | 102M |
| **ELECTRA-180g-base** | 69.3 / 87.0 | 73.1 / 88.6 | 24.0 / 48.6 | 102M |
| **ELECTRA-large** | 69.1 / 85.2 | 73.9 / 87.1 | 23.0 / 44.2 | 324M |
| **ELECTRA-180g-large** | 68.5 / 86.2 | 73.5 / 88.5 | 21.8 / 42.9 | 324M |


### ç¹ä½“ä¸­æ–‡é˜…è¯»ç†è§£ï¼šDRCD
[**DRCDæ•°æ®é›†**](https://github.com/DRCKnowledgeTeam/DRCD)ç”±ä¸­å›½å°æ¹¾å°è¾¾ç ”ç©¶é™¢å‘å¸ƒï¼Œå…¶å½¢å¼ä¸SQuADç›¸åŒï¼Œæ˜¯åŸºäºç¹ä½“ä¸­æ–‡çš„æŠ½å–å¼é˜…è¯»ç†è§£æ•°æ®é›†ã€‚
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šEM / F1

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: |
| BERT-base | 83.1 (82.7) / 89.9 (89.6) | 82.2 (81.6) / 89.2 (88.8) | 102M |
| BERT-wwm | 84.3 (83.4) / 90.5 (90.2) | 82.8 (81.8) / 89.7 (89.0) | 102M |
| BERT-wwm-ext | 85.0 (84.5) / 91.2 (90.9) | 83.6 (83.0) / 90.4 (89.9) | 102M |
| RoBERTa-wwm-ext | 86.6 (85.9) / 92.5 (92.2) | 85.6 (85.2) / 92.0 (91.7) | 102M |
| RBT3 | 76.3 / 84.9 | 75.0 / 83.9 | 38M |
| **ELECTRA-small** | 79.8 (79.4) / 86.7 (86.4) | 79.0 (78.5) / 85.8 (85.6) | 12M |
| **ELECTRA-180g-small** | 83.5 / 89.2 | 82.9 / 88.7 | 12M |
| **ELECTRA-small-ex** | 84.0 / 89.5 | 83.3 / 89.1 | 25M |
| **ELECTRA-180g-small-ex** | 87.3 / 92.3 | 86.5 / 91.3 | 25M |
| **ELECTRA-base** | 87.5 (87.0) / 92.5 (92.3) | 86.9 (86.6) / 91.8 (91.7) | 102M |
| **ELECTRA-180g-base** | 89.6 / 94.2 | 88.9 / 93.7 | 102M |
| **ELECTRA-large** | 88.8 / 93.3 | 88.8 / 93.6 | 324M |
| **ELECTRA-180g-large** | 90.1 / 94.8 | 90.5 / 94.7 | 324M |

### è‡ªç„¶è¯­è¨€æ¨æ–­ï¼šXNLI
åœ¨è‡ªç„¶è¯­è¨€æ¨æ–­ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†[**XNLI**æ•°æ®](https://github.com/google-research/bert/blob/master/multilingual.md)ï¼Œéœ€è¦å°†æ–‡æœ¬åˆ†æˆä¸‰ä¸ªç±»åˆ«ï¼š`entailment`ï¼Œ`neutral`ï¼Œ`contradictory`ã€‚
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šAccuracy

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: |
| BERT-base | 77.8 (77.4) | 77.8 (77.5) | 102M |
| BERT-wwm | 79.0 (78.4) | 78.2 (78.0) | 102M |
| BERT-wwm-ext | 79.4 (78.6) | 78.7 (78.3) | 102M |
| RoBERTa-wwm-ext | 80.0 (79.2) | 78.8 (78.3) | 102M |
| RBT3 | 72.2 | 72.3 | 38M |
| **ELECTRA-small** | 73.3 (72.5) | 73.1 (72.6) | 12M |
| **ELECTRA-180g-small** | 74.6 | 74.6 | 12M |
| **ELECTRA-small-ex** | 75.4 | 75.8 | 25M |
| **ELECTRA-180g-small-ex** | 76.5 | 76.6 | 25M |
| **ELECTRA-base** | 77.9 (77.0) | 78.4 (77.8) | 102M |
| **ELECTRA-180g-base** | 79.6 | 79.5 | 102M |
| **ELECTRA-large** | 81.5 | 81.0 | 324M |
| **ELECTRA-180g-large** | 81.2 | 80.4 | 324M |

### æƒ…æ„Ÿåˆ†æï¼šChnSentiCorp
åœ¨æƒ…æ„Ÿåˆ†æä»»åŠ¡ä¸­ï¼ŒäºŒåˆ†ç±»çš„æƒ…æ„Ÿåˆ†ç±»æ•°æ®é›†[**ChnSentiCorp**](https://github.com/pengming617/bert_classification)ã€‚
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šAccuracy

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: |
| BERT-base | 94.7 (94.3) | 95.0 (94.7) | 102M |
| BERT-wwm | 95.1 (94.5) | 95.4 (95.0) | 102M |
| BERT-wwm-ext | 95.4 (94.6) | 95.3 (94.7) | 102M |
| RoBERTa-wwm-ext | 95.0 (94.6) | 95.6 (94.8) | 102M |
| RBT3 | 92.8 | 92.8 | 38M |
| **ELECTRA-small** | 92.8 (92.5) | 94.3 (93.5) | 12M |
| **ELECTRA-180g-small** | 94.1 | 93.6 | 12M |
| **ELECTRA-small-ex** | 92.6 | 93.6 | 25M |
| **ELECTRA-180g-small-ex** | 92.8 | 93.4 | 25M |
| **ELECTRA-base** | 93.8 (93.0) | 94.5 (93.5) | 102M |
| **ELECTRA-180g-base** | 94.3 | 94.8 | 102M |
| **ELECTRA-large** | 95.2 | 95.3 | 324M |
| **ELECTRA-180g-large** | 94.8 | 95.2 | 324M |

### å¥å¯¹åˆ†ç±»ï¼šLCQMC
ä»¥ä¸‹ä¸¤ä¸ªæ•°æ®é›†å‡éœ€è¦å°†ä¸€ä¸ªå¥å¯¹è¿›è¡Œåˆ†ç±»ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¥å­çš„è¯­ä¹‰æ˜¯å¦ç›¸åŒï¼ˆäºŒåˆ†ç±»ä»»åŠ¡ï¼‰ã€‚

[**LCQMC**](http://icrc.hitsz.edu.cn/info/1037/1146.htm)ç”±å“ˆå·¥å¤§æ·±åœ³ç ”ç©¶ç”Ÿé™¢æ™ºèƒ½è®¡ç®—ç ”ç©¶ä¸­å¿ƒå‘å¸ƒã€‚ 
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šAccuracy

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: |
| BERT | 89.4 (88.4) | 86.9 (86.4) | 102M |
| BERT-wwm | 89.4 (89.2) | 87.0 (86.8) | 102M |
| BERT-wwm-ext | 89.6 (89.2) | 87.1 (86.6) | 102M |
| RoBERTa-wwm-ext | 89.0 (88.7) | 86.4 (86.1) | 102M |
| RBT3 | 85.3 | 85.1 | 38M |
| **ELECTRA-small** | 86.7 (86.3) | 85.9 (85.6) | 12M |
| **ELECTRA-180g-small** | 86.6 | 85.8 | 12M |
| **ELECTRA-small-ex** | 87.5 | 86.0 | 25M |
| **ELECTRA-180g-small-ex** | 87.6 | 86.3 | 25M |
| **ELECTRA-base** | 90.2 (89.8) | 87.6 (87.3) | 102M |
| **ELECTRA-180g-base** | 90.2 | 87.1 | 102M |
| **ELECTRA-large** | 90.7 | 87.3 | 324M |
| **ELECTRA-180g-large** | 90.3 | 87.3 | 324M |


### å¥å¯¹åˆ†ç±»ï¼šBQ Corpus 
[**BQ Corpus**](http://icrc.hitsz.edu.cn/Article/show/175.html)ç”±å“ˆå·¥å¤§æ·±åœ³ç ”ç©¶ç”Ÿé™¢æ™ºèƒ½è®¡ç®—ç ”ç©¶ä¸­å¿ƒå‘å¸ƒï¼Œæ˜¯é¢å‘é“¶è¡Œé¢†åŸŸçš„æ•°æ®é›†ã€‚
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šAccuracy

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: |
| BERT | 86.0 (85.5) | 84.8 (84.6) | 102M |
| BERT-wwm | 86.1 (85.6) | 85.2 (84.9) | 102M |
| BERT-wwm-ext | 86.4 (85.5) | 85.3 (84.8) | 102M |
| RoBERTa-wwm-ext | 86.0 (85.4) | 85.0 (84.6) | 102M |
| RBT3 | 84.1 | 83.3 | 38M |
| **ELECTRA-small** | 83.5 (83.0) | 82.0 (81.7) | 12M |
| **ELECTRA-180g-small** | 83.3 | 82.1 | 12M |
| **ELECTRA-small-ex** | 84.0 | 82.6 | 25M |
| **ELECTRA-180g-small-ex** | 84.6 | 83.4 | 25M |
| **ELECTRA-base** | 84.8 (84.7) | 84.5 (84.0) | 102M |
| **ELECTRA-180g-base** | 85.8 | 84.5 | 102M |
| **ELECTRA-large** | 86.7 | 85.1 | 324M |
| **ELECTRA-180g-large** | 86.4 | 85.4 | 324M |


### å¸æ³•ä»»åŠ¡æ•ˆæœ
æˆ‘ä»¬ä½¿ç”¨CAIL 2018å¸æ³•è¯„æµ‹çš„[ç½ªåé¢„æµ‹æ•°æ®](https://github.com/liuhuanyong/CrimeKgAssitant)å¯¹å¸æ³•ELECTRAè¿›è¡Œäº†æµ‹è¯•ã€‚small/base/largeå­¦ä¹ ç‡åˆ†åˆ«ä¸ºï¼š5e-4/3e-4/1e-4ã€‚
è¯„ä»·æŒ‡æ ‡ä¸ºï¼šAccuracy

| æ¨¡å‹ | å¼€å‘é›† | æµ‹è¯•é›† | å‚æ•°é‡ |
| :------- | :---------: | :---------: | :---------: |
| ELECTRA-small | 78.84 | 76.35 | 12M |
| **legal-ELECTRA-small** | **79.60** | **77.03** | 12M |
| ELECTRA-base | 80.94 | 78.41 | 102M |
| **legal-ELECTRA-base** | **81.71** | **79.17** | 102M |
| ELECTRA-large | 81.53 | 78.97 | 324M |
| **legal-ELECTRA-large** | **82.60** | **79.89** | 324M |


## ä½¿ç”¨æ–¹æ³•
ç”¨æˆ·å¯ä»¥åŸºäºå·²å‘å¸ƒçš„ä¸Šè¿°ä¸­æ–‡ELECTRAé¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œä¸‹æ¸¸ä»»åŠ¡ç²¾è°ƒã€‚
åœ¨è¿™é‡Œæˆ‘ä»¬åªä»‹ç»æœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œæ›´è¯¦ç»†çš„ç”¨æ³•è¯·å‚è€ƒ[ELECTRAå®˜æ–¹ä»‹ç»](https://github.com/google-research/electra)ã€‚

æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`ELECTRA-small`æ¨¡å‹åœ¨CMRC 2018ä»»åŠ¡ä¸Šè¿›è¡Œç²¾è°ƒï¼Œç›¸å…³æ­¥éª¤å¦‚ä¸‹ã€‚å‡è®¾ï¼Œ  
- `data-dir`ï¼šå·¥ä½œæ ¹ç›®å½•ï¼Œå¯æŒ‰å®é™…æƒ…å†µè®¾ç½®ã€‚
- `model-name`ï¼šæ¨¡å‹åç§°ï¼Œæœ¬ä¾‹ä¸­ä¸º`electra-small`ã€‚
- `task-name`ï¼šä»»åŠ¡åç§°ï¼Œæœ¬ä¾‹ä¸­ä¸º`cmrc2018`ã€‚æœ¬ç›®å½•ä¸­çš„ä»£ç å·²é€‚é…äº†ä»¥ä¸Šå…­ä¸ªä¸­æ–‡ä»»åŠ¡ï¼Œ`task-name`åˆ†åˆ«ä¸º`cmrc2018`ï¼Œ`drcd`ï¼Œ`xnli`ï¼Œ`chnsenticorp`ï¼Œ`lcqmc`ï¼Œ`bqcorpus`ã€‚

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹å¹¶è§£å‹
åœ¨[æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½)ç« èŠ‚ä¸­ï¼Œä¸‹è½½ELECTRA-smallæ¨¡å‹ï¼Œå¹¶è§£å‹è‡³`${data-dir}/models/${model-name}`ã€‚
è¯¥ç›®å½•ä¸‹åº”åŒ…å«`electra_model.*`ï¼Œ`vocab.txt`ï¼Œ`checkpoint`ï¼Œå…±è®¡5ä¸ªæ–‡ä»¶ã€‚

### ç¬¬äºŒæ­¥ï¼šå‡†å¤‡ä»»åŠ¡æ•°æ®
ä¸‹è½½[CMRC 2018è®­ç»ƒé›†å’Œå¼€å‘é›†](https://github.com/ymcui/cmrc2018/tree/master/squad-style-data)ï¼Œå¹¶é‡å‘½åä¸º`train.json`å’Œ`dev.json`ã€‚
å°†ä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ°`${data-dir}/finetuning_data/${task-name}`ã€‚

### ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œè®­ç»ƒå‘½ä»¤
```shell
python run_finetuning.py \
    --data-dir ${data-dir} \
    --model-name ${model-name} \
    --hparams params_cmrc2018.json
```
å…¶ä¸­`data-dir`å’Œ`model-name`åœ¨ä¸Šé¢å·²ç»ä»‹ç»ã€‚`hparams`æ˜¯ä¸€ä¸ªJSONè¯å…¸ï¼Œåœ¨æœ¬ä¾‹ä¸­çš„`params_cmrc2018.json`åŒ…å«äº†ç²¾è°ƒç›¸å…³è¶…å‚æ•°ï¼Œä¾‹å¦‚ï¼š
```json
{
    "task_names": ["cmrc2018"],
    "max_seq_length": 512,
    "vocab_size": 21128,
    "model_size": "small",
    "do_train": true,
    "do_eval": true,
    "write_test_outputs": true,
    "num_train_epochs": 2,
    "learning_rate": 3e-4,
    "train_batch_size": 32,
    "eval_batch_size": 32,
}
```
åœ¨ä¸Šè¿°JSONæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åªåˆ—ä¸¾äº†æœ€é‡è¦çš„ä¸€äº›å‚æ•°ï¼Œå®Œæ•´å‚æ•°åˆ—è¡¨è¯·æŸ¥é˜…[configure_finetuning.py](./configure_finetuning.py)ã€‚

è¿è¡Œå®Œæ¯•åï¼Œ  
1. å¯¹äºé˜…è¯»ç†è§£ä»»åŠ¡ï¼Œç”Ÿæˆçš„é¢„æµ‹JSONæ•°æ®`cmrc2018_dev_preds.json`ä¿å­˜åœ¨`${data-dir}/results/${task-name}_qa/`ã€‚å¯ä»¥è°ƒç”¨å¤–éƒ¨è¯„æµ‹è„šæœ¬æ¥å¾—åˆ°æœ€ç»ˆè¯„æµ‹ç»“æœï¼Œä¾‹å¦‚ï¼š`python cmrc2018_drcd_evaluate.py dev.json cmrc2018_dev_preds.json`
2. å¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œç›¸å…³accuracyä¿¡æ¯ä¼šç›´æ¥æ‰“å°åœ¨å±å¹•ï¼Œä¾‹å¦‚ï¼š`xnli: accuracy: 72.5 - loss: 0.67`


## FAQ
**Q: åœ¨ä¸‹æ¸¸ä»»åŠ¡ç²¾è°ƒçš„æ—¶å€™ELECTRAæ¨¡å‹çš„å­¦ä¹ ç‡æ€ä¹ˆè®¾ç½®ï¼Ÿ**  
A: æˆ‘ä»¬å»ºè®®ä½¿ç”¨åŸè®ºæ–‡ä½¿ç”¨çš„å­¦ä¹ ç‡ä½œä¸ºåˆå§‹åŸºçº¿ï¼ˆsmallæ˜¯3e-4ï¼Œbaseæ˜¯1e-4ï¼‰ç„¶åé€‚å½“å¢å‡å­¦ä¹ ç‡è¿›è¡Œè°ƒè¯•ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›¸æ¯”BERTã€RoBERTaä¸€ç±»çš„æ¨¡å‹æ¥è¯´ELECTRAçš„å­¦ä¹ ç‡è¦ç›¸å¯¹å¤§ä¸€äº›ã€‚

**Q: æœ‰æ²¡æœ‰PyTorchç‰ˆæƒé‡ï¼Ÿ**  
A: æœ‰ï¼Œ[æ¨¡å‹ä¸‹è½½](#æ¨¡å‹ä¸‹è½½)ã€‚

**Q: é¢„è®­ç»ƒç”¨çš„æ•°æ®èƒ½å…±äº«ä¸€ä¸‹å—ï¼Ÿ**  
A: å¾ˆé—æ†¾ï¼Œä¸å¯ä»¥ã€‚

**Q: æœªæ¥è®¡åˆ’ï¼Ÿ**  
A: æ•¬è¯·å…³æ³¨ã€‚

## å¼•ç”¨
å¦‚æœæœ¬ç›®å½•ä¸­çš„å†…å®¹å¯¹ä½ çš„ç ”ç©¶å·¥ä½œæœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿åœ¨è®ºæ–‡ä¸­å¼•ç”¨ä¸‹è¿°è®ºæ–‡ã€‚
- é¦–é€‰ï¼šhttps://ieeexplore.ieee.org/document/9599397
```
@journal{cui-etal-2021-pretrain,
  title={Pre-Training with Whole Word Masking for Chinese BERT},
  author={Cui, Yiming and Che, Wanxiang and Liu, Ting and Qin, Bing and Yang, Ziqing},
  journal={IEEE Transactions on Audio, Speech and Language Processing},
  year={2021},
  url={https://ieeexplore.ieee.org/document/9599397},
  doi={10.1109/TASLP.2021.3124365},
 }
```

- æˆ–è€…ï¼šhttps://www.aclweb.org/anthology/2020.findings-emnlp.58
```
@inproceedings{cui-etal-2020-revisiting,
    title = "Revisiting Pre-Trained Models for {C}hinese Natural Language Processing",
    author = "Cui, Yiming  and
      Che, Wanxiang  and
      Liu, Ting  and
      Qin, Bing  and
      Wang, Shijin  and
      Hu, Guoping",
    booktitle = "Proceedings of the 2020 Conference on Empirical Methods in Natural Language Processing: Findings",
    month = nov,
    year = "2020",
    address = "Online",
    publisher = "Association for Computational Linguistics",
    url = "https://www.aclweb.org/anthology/2020.findings-emnlp.58",
    pages = "657--668",
}
```


## å…³æ³¨æˆ‘ä»¬
æ¬¢è¿å…³æ³¨**å“ˆå·¥å¤§è®¯é£è”åˆå®éªŒå®¤**å®˜æ–¹å¾®ä¿¡å…¬ä¼—å·ï¼Œäº†è§£æœ€æ–°çš„æŠ€æœ¯åŠ¨æ€ã€‚

![qrcode.png](./pics/qrcode.jpg)


## é—®é¢˜åé¦ˆ
Before you submit an issue:

- **You are advised to read [FAQ](https://github.com/ymcui/MacBERT#FAQ) first before you submit an issue.**
- Repetitive and irrelevant issues will be ignored and closed by [stable-bot](stale Â· GitHub Marketplace). Thank you for your understanding and support.
- We cannot acommodate EVERY request, and thus please bare in mind that there is no guarantee that your request will be met.
- Always be polite when you submit an issue.